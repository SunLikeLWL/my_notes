# react+redux前端开发实践





Dispatcher是flux中的核心概念，他是一个调度中心，
管理着所有的数据流，所有事件通过他来分发。
Dispatcher处理Action的分发，维护Store之间的依赖关系，
负责处理View和Store之间建立Action的传递。


Dispatcher用于将Action分发给Store注册的回调函数。
他与普通的发布-订阅模式有两点不同：
1、函数回函数不是订阅到某一个特定的事件或频道，
每个动作会分发所有注册回调函数；

2、回调函数可以指定在其他回调函数之后调用；




## 框架

是一个系统的可重用设计，表现为一组抽象的可交互方法。
他就像若干类的构成，涉及若干构件，以及构件之间的相互依赖关系、
责任分配和流程控制等。


## 设计模式

是一套被反复使用、多数人知晓的、经过分类的代码设计经验总结。
其目的是为了代码的可重用性，让代码更容易被他人理解、保证代码的可靠性。
比如，工厂模式、适配器模式和策略模式等



## 软件架构

是一系列相关的抽象模式，用于指导大型项软件系统各个方面的设计。
软件架构是一个系统的草图，软件体系结构是构建计算机软件实践基础。

## 架构模式(风格)

也可以说成框架模式，一个架构模式描述软件系统里基本的结构组织或刚要。
架构模式提供一些事先定义好的子系统，指定他们的责任，并给出他们组织在一起的法则和指南。
一个架构模式常常可以分解成狠毒哟个设计模式的联合使用。MVC模式就属于架构模式，
还有MTV、MVP、CBD和ORM等


## 框架与设计模式对比
框架与设计模式相似，但根本上是不同的。
设计模式是对某种环境中反复出现的问题及解决该问题方案的描述，比框架更加抽象；框架可以用代码表示，
也能直接执行或复用，而对模式而言只有实例才能用代码表示；设计模式是比框架更小的元素，一个框架中往往
含有一个或多个设计模式，框架总是针对一特定应用领域，但对同一模式却可使用于各种应用。
可以说框架是软件



# 第一章 React入门


# 第二章 React组件


# 第三章 React事件与表单


# 第四章 React+Redux的数据流管理


# 第五章 路由


# 第六章 React的性能及性能优化

 
 React神奇的两点就是虚拟DOM和高效的diff算法

 ## diff算法

   React将虚拟DOM树转换为真实DOM树的最小计算过程称为调和(reconciliation),
   而diff算法就是调和的具体实现


## 时间复杂度
事件复杂度是一个函数，表示该算法运行消耗的时间。


## 空间复杂度
 一个程序的空间复杂度是指运行完一个程序所需要内存的大小。


## diff策略

 diff核心在于对比和修改

 React中实现的o(n)的算法：
 1、两个不同类型的元素将产生两个不同的树；

 2、同一级的一个组子节点，可以从中埋入一个key属性用于区分；

### tree diff 
才用分层求异的策略，将新旧两颗DOM书按照层级对应的关系进行对比，
这样只需要对树进行一次遍历，就能够找到那些元素是需要更新的。

### Component diff
查看两个组件类型是否相同。如果类型不同，则需要更新，更新时先吧旧的组件删除，
在创建一个新的组件插入之前删除的位置。类型相同时，暂时不需要更新。


### element diff

通过设置唯一的key值，对元素diff进行优化。元素发生变化，则找到要修改的元素
有针对性进行修改。




shouldComponentUpdate(nextProps,nextState){
    return false;
} 



## immutable 持久化数据结构

immutable数据一旦创建就不能被修改。数据对象的任何修改都会返回一个新的immutable对象,
同时原来的保持不变，这就是持久化数据结构。

List 
有序索引值

Map
无序索引值

OrderedMap
有序的Map

Set
没有重复值的集合

OrederedSet
有序的Set

Stack
有序集合

Record
一个用于生成Record实例的类

Seq
序列

Collection
构建所有数据结构的基类，不可以直接构建



### immutable的优点

1、降低Mutable带来的复杂度

2、节省内存

3、并发安全

4、数据易追溯

5、函数式编程


### immutable的缺点

  缺点就是需要一定的学习成本和额外的引入的静态资源，并且其API和原生的对象类似，会产生混淆




  # 第七章 React服务端渲染

  客户端渲染CSR：前端渲染

  好处：
  1、让网络传输变得更小，从而减轻服务器压力
  
  弊端：
  2、前端耗时增多，并且不利于SEO
  



  服务端渲染SSR：也即是后端渲染。

  好处：
   1、前端只需将HTML进行展示，耗时少，利于SEO；
  弊端：
   1、占用服务器运算资源，网络传输的数据量大




### 为何使用服务端渲染

1、利于SEO，让搜索引擎更容易读取页面内容

2、让首屏加载更快，无需等待JS文件下载执行的过程

3、更容易维护，服务端和顾客端代码共享



### 服务端渲染的API

renderToString()和renderToStaticMarkup()作用是将Virtual DOM渲染成HTML字符串。




## Express框架简介

    特点：
    1、可以设置中间件来响应HTTP请求

    2、定义了路由表用于执行不同的HTTP请求动作

    3、可以通过向模板传递参数来动态渲染HTML页面



 
# 第八章 自动化测试






